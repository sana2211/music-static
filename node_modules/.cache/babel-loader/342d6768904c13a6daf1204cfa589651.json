{"ast":null,"code":"import _defineProperty from\"/Users/Mustaqeem/Documents/Projects/music-static/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Mustaqeem/Documents/Projects/music-static/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Mustaqeem/Documents/Projects/music-static/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Mustaqeem/Documents/Projects/music-static/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Mustaqeem/Documents/Projects/music-static/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Header from\"./header\";import Footer from\"./footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);var _super=_createSuper(SignIn);function SignIn(){var _this;_classCallCheck(this,SignIn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(evt){evt.preventDefault();fetch(\"http://localhost:8000/api/users/checkuser/\".concat(_this.state.email),{method:'POST',body:JSON.stringify({'email':_this.state.email,'password':_this.state.password}),headers:{'Content-Type':'application/json'}}).then(function(result){return result.json();}).then(function(result){console.log(result);if(result.email){window.location.replace('/dashboard/'+result.id);}else{alert('Invalid login');}}).catch(function(err){return console.log(err);});};return _this;}_createClass(SignIn,[{key:\"handleInput\",value:function handleInput(evt){//console.log(evt.currentTarget.value);\nvar _evt$currentTarget=evt.currentTarget,name=_evt$currentTarget.name,value=_evt$currentTarget.value;this.setState(_defineProperty({},name,value));//console.log(this.state.name);\n}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(evt){return _this2.handleSubmit(evt);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(evt){return _this2.handleInput(evt);},type:\"text\",name:\"email\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(evt){return _this2.handleInput(evt);},type:\"password\",name:\"password\",placeholder:\"password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Sign In\"})}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return SignIn;}(React.Component);export{SignIn as default};","map":{"version":3,"sources":["/Users/Mustaqeem/Documents/Projects/music-static/src/components/signIn.js"],"names":["React","Header","Footer","SignIn","handleSubmit","evt","preventDefault","fetch","state","email","method","body","JSON","stringify","password","headers","then","result","json","console","log","window","location","replace","id","alert","catch","err","currentTarget","name","value","setState","handleInput","Component"],"mappings":"ioBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,2FAGqBC,CAAAA,M,uUAWnBC,Y,CAAe,SAACC,GAAD,CAAS,CACtBA,GAAG,CAACC,cAAJ,GACAC,KAAK,qDAA8C,MAAKC,KAAL,CAAWC,KAAzD,EACL,CACEC,MAAM,CAAE,MADV,CAEEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB,QAAS,MAAKL,KAAL,CAAWC,KADD,CAEnB,WAAY,MAAKD,KAAL,CAAWM,QAFJ,CAAf,CAFR,CAMEC,OAAO,CAAE,CACP,eAAgB,kBADT,CANX,CADK,CAAL,CAWCC,IAXD,CAWM,SAAAC,MAAM,QAAEA,CAAAA,MAAM,CAACC,IAAP,EAAF,EAXZ,EAYCF,IAZD,CAYM,SAAAC,MAAM,CAAE,CACZE,OAAO,CAACC,GAAR,CAAYH,MAAZ,EACA,GAAGA,MAAM,CAACR,KAAV,CACA,CACEY,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,cAAcN,MAAM,CAACO,EAA7C,EACD,CAHD,IAII,CACHC,KAAK,CAAC,eAAD,CAAL,CACA,CACF,CArBD,EAsBCC,KAtBD,CAsBO,SAAAC,GAAG,QAAER,CAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAAF,EAtBV,EAuBD,C,6DAnCD,qBAAYtB,GAAZ,CACA,CACE;AADF,uBAEwBA,GAAG,CAACuB,aAF5B,CAESC,IAFT,oBAESA,IAFT,CAEeC,KAFf,oBAEeA,KAFf,CAGE,KAAKC,QAAL,oBACGF,IADH,CACUC,KADV,GAGA;AACD,C,sBA4BD,iBAAS,iBACP,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,+BAFF,cAGE,aAAM,QAAQ,CAAE,kBAACzB,GAAD,QAAQ,CAAA,MAAI,CAACD,YAAL,CAAkBC,GAAlB,CAAR,EAAhB,uBACE,aAAK,SAAS,CAAC,gBAAf,wBAEE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAEE,cAAO,QAAQ,CAAE,kBAACA,GAAD,QAAO,CAAA,MAAI,CAAC2B,WAAL,CAAiB3B,GAAjB,CAAP,EAAjB,CAA+C,IAAI,CAAC,MAApD,CAA2D,IAAI,CAAC,OAAhE,CAAwE,WAAW,CAAC,OAApF,EAFF,GAFF,cAME,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cAAO,QAAQ,CAAE,kBAACA,GAAD,QAAO,CAAA,MAAI,CAAC2B,WAAL,CAAiB3B,GAAjB,CAAP,EAAjB,CAA+C,IAAI,CAAC,UAApD,CAA+D,IAAI,CAAC,UAApE,CAA+E,WAAW,CAAC,UAA3F,EAFF,GANF,cAUE,YAAK,SAAS,CAAC,YAAf,uBACC,mCADD,EAVF,cAaE,aAbF,GADF,EAHF,cAqBI,KAAC,MAAD,IArBJ,GADF,CAyBD,C,oBA/DiCL,KAAK,CAACiC,S,SAArB9B,M","sourcesContent":["import React from \"react\";\nimport Header from \"./header\";\nimport Footer from \"./footer\";\n\n\nexport default class SignIn extends React.Component {\n  handleInput(evt)\n  { \n    //console.log(evt.currentTarget.value);\n    const {name, value} = evt.currentTarget;\n    this.setState({\n      [name]: value,\n    });\n    //console.log(this.state.name);\n  }\n  \n  handleSubmit = (evt) => {\n    evt.preventDefault();\n    fetch(`http://localhost:8000/api/users/checkuser/${this.state.email}`,\n    {\n      method: 'POST',\n      body: JSON.stringify({\n        'email': this.state.email,\n        'password': this.state.password\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }) \n    .then(result=>result.json())\n    .then(result=>{\n      console.log(result);\n      if(result.email)\n      {\n        window.location.replace('/dashboard/'+result.id)\n      }\n      else{\n       alert('Invalid login')\n      }\n    })\n    .catch(err=>console.log(err))\n  }  \n  render() {\n    return (\n      <div>\n        <Header></Header>\n        <h1>Sign in</h1>\n        <form onSubmit={(evt)=> this.handleSubmit(evt)}>\n          <div className=\"flex-container\">\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input onChange={(evt)=>this.handleInput(evt)} type=\"text\" name=\"email\" placeholder=\"Email\" />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input onChange={(evt)=>this.handleInput(evt)} type=\"password\" name=\"password\" placeholder=\"password\" />\n            </div>\n            <div className=\"form-group\">\n             <button>Sign In</button>\n            </div>\n            <br></br>\n          </div>\n          </form>\n\n          <Footer></Footer>\n          </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}